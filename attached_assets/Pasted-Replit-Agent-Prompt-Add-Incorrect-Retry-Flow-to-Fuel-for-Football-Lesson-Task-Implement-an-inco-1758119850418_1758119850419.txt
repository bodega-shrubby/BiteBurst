Replit Agent Prompt â€” Add Incorrect/Retry Flow to â€œFuel for Footballâ€ Lesson
Task: Implement an incorrect-answer flow for the existing Fuel for Football lesson:
Try-again hint on the same screen
Auto-fallback to a short Learn card after max attempts
Adjust XP/Hearts logic accordingly
Do not change the existing correct flows, visuals, or copy except where noted below
Global UX Rules
Max attempts per step: 2
Hearts/Lives: lose 1 heart per incorrect submission (on CHECK)
Donâ€™t deduct hearts while the learner is still dragging/re-selecting before CHECK.
XP awards:
Correct on first try â†’ full XP (10 standard, 15 for mini-game)
Correct on second try â†’ half XP (5 standard, 8 for mini-game)
Learn card (after 2 misses) â†’ 0 XP
States per step:
Asking (what you already have)
Incorrect / Try again (inline banner + hint; stays on Asking UI)
Learn card (replaces the content after 2nd miss; short explanation + Continue)
Success (unchanged for correct answers)
UI Components
Try-again banner: soft red/pink (#FDEBEC), icon âš ï¸, copy â‰¤ 100 chars, â€œTry againâ€ CTA; disable CHECK until selection changes.
Learn card: soft blue (#E8F2FF), icon ğŸ’¡, 1â€“2 lines of explanation tied to football outcome, Continue CTA; no green success bar.
Success page: unchanged (green âœ” â€œNice!â€, mascot celebration, XP burst).
Apply to Each Step of â€œFuel for Footballâ€
Lesson (current) recap for reference
Step 1: MCQ â€” Best breakfast before football training?
Step 2: True/False â€” Water helps footballers stay strong for the whole game.
Step 3: Matching â€” Match food â†’ benefit (ğŸ¥¦ Broccoli, ğŸ¥£ Yogurt with berries, ğŸ¥š Boiled egg)
Step 4: MCQ â€” Best half-time snack? (ğŸŒ Banana correct)
Wrap-up: unchanged
Step 1 â€” MCQ (Porridge with fruit = correct)
Incorrect (first miss):
Banner: â€œNot quite â€” think steady energy that lasts the whole session.â€
Incorrect (second miss):
Banner: â€œAlmost! Which breakfast helps you keep running, not just at the start?â€
Learn card (after 2 misses):
Copy: â€œPorridge gives slow, steady energy and fruit adds vitamins â€” perfect to keep you running till the final whistle.â€
Mascot: quick dribble â†’ thumbs-up.
Step 2 â€” True/False (True = correct)
Incorrect (chose False):
Banner: â€œTry again â€” players drink water so they donâ€™t slow down later.â€
Learn card:
Copy: â€œEven a bit of dehydration makes you slow and tired. Water keeps you cool and fast for the match.â€
Mascot: sips bottle â†’ sprint.
Step 3 â€” Matching (ğŸ¥¦ Broccoli, ğŸ¥£ Yogurt with berries, ğŸ¥š Egg)
Correct pairs (reference):
Broccoli â†’ Vitamins for stamina
Yogurt with berries â†’ Recovery fuel for muscles
Boiled egg â†’ Protein for strength
Incorrect (any wrong submission):
Banner: â€œSome matches arenâ€™t right â€” think stamina, recovery, and strength.â€
(Keep items draggable; no heart until CHECK is pressed.)
Learn card:
Copy (bullet style):
â€œğŸ¥¦ Broccoli: vitamins to keep you going.â€
â€œğŸ¥£ Yogurt + berries: helps muscles recover after play.â€
â€œğŸ¥š Egg: protein for strong legs to kick harder.â€
Mascot: keepie-uppies.
Step 4 â€” MCQ (ğŸŒ Banana = correct)
Incorrect (Chocolate bar/Crisps):
Banner: â€œThatâ€™s a quick burstâ€¦ but youâ€™ll slow down after. Pick one that refuels your legs.â€
Learn card:
Copy: â€œBanana gives quick, clean energy so you can sprint again in the second half.â€
Mascot: high-five at the touchline.
Implementation Notes
1) Step Config (example schema)
Add per-step fields (no need to rename existing keys):
type StepRetryConfig = {
  maxAttempts: 2,
  heartPenaltyOnIncorrect: true,
  xp: { firstTry: 10|15, secondTry: 5|8, learnCard: 0 },
  messages: {
    tryAgain1: string,
    tryAgain2?: string,
    learnCard: string
  }
}
2) State machine (pseudo)
onCheck() {
  if (isCorrect()) return showSuccess(fullOrHalfXP());
  step.attempts++;
  loseHeart();
  if (step.attempts < step.maxAttempts) return showTryAgainBanner(step.messages.tryAgainX);
  return showLearnCard(step.messages.learnCard); // then Continue â†’ next step
}
3) Analytics
Log: attempts, timeOnStep, heartsRemaining, earnedXP, usedLearnCard (boolean).
Purpose: show friction â†’ learning and completion in investor deck.
Exact Copy to Inject (so devs can paste)
Step 1 (Breakfast)
tryAgain1: â€œNot quite â€” think steady energy that lasts the whole session.â€
tryAgain2: â€œAlmost! Which breakfast keeps you running, not just at the start?â€
learnCard: â€œPorridge gives slow, steady energy and fruit adds vitamins â€” perfect to keep you running till the final whistle.â€
Step 2 (Hydration)
tryAgain1: â€œTry again â€” players drink water so they donâ€™t slow down later.â€
learnCard: â€œEven a bit of dehydration makes you slow and tired. Water keeps you cool and fast for the match.â€
Step 3 (Matching)
tryAgain1: â€œSome matches arenâ€™t right â€” think stamina, recovery, and strength.â€
learnCard:
â€œğŸ¥¦ Broccoli: vitamins to keep you going.â€
â€œğŸ¥£ Yogurt + berries: helps muscles recover after play.â€
â€œğŸ¥š Egg: protein for strong legs to kick harder.â€
Step 4 (Half-time snack)
tryAgain1: â€œThatâ€™s a quick burstâ€¦ but youâ€™ll slow down after. Pick one that refuels your legs.â€
learnCard: â€œBanana gives quick, clean energy so you can sprint again in the second half.â€
XP/Hearts:
Step1: 10 / 5 / 0
Step2: 10 / 5 / 0
Step3: 15 / 8 / 0
Step4: 10 / 5 / 0
Acceptance Criteria
Incorrect submissions show a red/pink hint banner on the same screen; CHECK disabled until the selection changes.
After 2 incorrect submissions on any step, a Learn card replaces the content; Continue moves to the next step (no success page, no XP).
Hearts decrement only on submit; XP awarded according to first/second/learn path.
Success pages remain unchanged for correct answers.