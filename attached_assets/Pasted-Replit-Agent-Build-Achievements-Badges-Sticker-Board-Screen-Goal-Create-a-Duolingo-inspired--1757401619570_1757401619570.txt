Replit Agent â€” Build â€œAchievements & Badgesâ€ (Sticker Board) Screen
Goal
Create a Duolingo-inspired trophy/sticker board that celebrates progress, personal records, and encourages variety (fruits, water, activities). Mobile-first MVP, shippable, accessible.
Tech / Placement
Framework: React + existing app architecture.
Route: /achievements
Nav: Add â€œğŸ… Achievementsâ€ item to bottom nav and a â€œView achievementsâ€ card on Dashboard.
Assets: SVGs in /public/assets/badges/*.svg with emoji fallbacks.
UX & UI (match this closely)
Header
Title: â€œAchievements ğŸ†â€
Subtext: â€œCollect stickers by eating smart and moving daily.â€
Progress Strip (top)
â€œBadges: X / Yâ€ + thin progress bar.
â€œNext unlocksâ€ chips (top 2â€“3 locked by highest progress %, e.g., â€œFruit Fighter 3/5â€).
Sticker Board (grid)
Filter chips: All Â· Streak Â· Food Â· Water Â· Activity Â· Combo Â· Records
Card size ~120â€“140px; 2â€“3 columns.
Earned: full-color sticker + tiny â€œEarnedâ€ ribbon.
Locked: grey outline + lock + one-line hint with progress (e.g., â€œDifferent fruits 3/5â€).
Badge Modal
Big sticker, title, short description.
â€œHow to earnâ€ with live progress (e.g., â€œDifferent fruits: 3/5â€).
Contextual CTA (routes):
Food variety â†’ /food-log?hint=fruit
Water â†’ quick log to water
Activity â†’ /activity-log
Celebration
Confetti + mascot bounce when arriving with ?justUnlocked=<code>. Respect prefers-reduced-motion.
Accessibility
44Ã—44 min tap targets, focus rings, modal focus trap, aria-live="polite" for progress updates.
Badge Set (MVP seed)
Create a small catalog (10â€“12) mixing quick wins, variety, streaks, and personal records:
Food
FIRST_FOOD â€” ğŸ½ First Bite (first food log) â€” threshold 1
FOOD_VARIETY_5 â€” ğŸ Fruit Fighter (5 different fruits lifetime)
VEG_VARIETY_5 â€” ğŸ¥¦ Veggie Victory (5 different veg lifetime)
Water
WATER_7 â€” ğŸ’§ Water Warrior (water on 7 distinct days)
Activity
FIRST_ACTIVITY â€” âš½ Mover (first activity log)
ACTIVITY_10 â€” ğŸ¯ All-Rounder (10 activity logs lifetime)
Streaks
STREAK_3, STREAK_7, STREAK_30 â€” ğŸ”¥ Streak milestones
Combo
COMBO_DAY â€” ğŸ”— Fuel + Move same day (1 day)
Personal Records (PR)
PR_DAILY_XP â€” ğŸ† Most XP in a day (track best)
PR_LONGEST_STREAK â€” ğŸ† Longest streak
(PR badges are â€œlevelingâ€ records; display the best value on the sticker.)
Data & API
Tables (use/extend existing)
badge_catalog (seeded; code, name, desc, category, threshold, icon, rarity, active)
user_badges (user_id, code, earned_at)
badge_progress (user_id, code, current, threshold) â€” OPTIONAL cache
Reuse existing logs, xp_events, streaks.
Endpoints (implement if missing)
GET /api/badges â†’ array of catalog items.
GET /api/user/:id/badges â†’ { earned: [{code, earned_at}], progress: [{code, current, threshold}], records: { dailyXpBest, longestStreak } }
Badge evaluation runs after /api/log and streak updates (reuse current evaluation hook).
Progress rules (server):
Fruit/Veg variety: distinct normalized tokens/emoji over lifetime.
Water_7: distinct days containing water log.
Activity_10: count of activity logs.
Combo_Day: has food + activity on same local day.
Streaks: from streaks table.
PR: recompute if a log changes best-of values; store best values for display.
Return progress for all thresholded badges so UI shows live meters on locked cards.
React Implementation
Files
src/routes/Achievements.tsx (page)
src/components/achievements/ProgressStrip.tsx
src/components/achievements/BadgeFilters.tsx
src/components/achievements/BadgeCard.tsx
src/components/achievements/BadgeModal.tsx
src/utils/badges.ts (merge helpers, percent calc, next-unlocks)
Page flow
Parallel fetch GET /api/badges and GET /api/user/:id/badges.
Merge catalog + earned + progress into a view model:
type BadgeVM = Catalog & {
  status: 'earned' | 'locked';
  current?: number; threshold?: number;
  displayValue?: number; // for PR badges
};
Compute earnedCount/totalCount and next unlocks (sort locked by current/threshold desc).
Render filters, grid, modal; wire contextual CTAs to logging screens.
If justUnlocked in query â†’ confetti once, then remove query param.
Styling & Motion
Use your brand: white bg, orange headers, black body text, rounded cards, soft shadows.
Card press: tiny bounce; earned card has subtle shine gradient.
Respect reduced motion.
Copy (kid-friendly)
Header subtext: â€œCollect stickers by eating smart and moving daily.â€
Locked hints: short verbs (â€œDrink water 5 daysâ€, â€œTry 5 fruitsâ€).
Modal CTA labels: â€œLog a new fruitâ€, â€œLog waterâ€, â€œLog an activityâ€.
Acceptance Criteria
/achievements renders with progress strip, filters, grid, modal on mobile width â‰¤420px.
Earned vs locked states display correctly from API; progress values render on locked cards.
â€œNext unlocksâ€ chips jump/scroll to the relevant card.
Modal shows â€œHow to earnâ€ with live progress and correct CTA routing.
Confetti shows only when arriving with ?justUnlocked=CODE and respects reduced motion.
Lighthouse a11y â‰¥ 90; interactive targets â‰¥ 44Ã—44; focus-visible rings; modal focus trap.
No console errors; API failures show a friendly skeleton/empty state.
Seed Data (for demo)
Seed 8â€“12 badges into badge_catalog as listed above.
Give the demo user:
Earned: FIRST_FOOD, FIRST_ACTIVITY, STREAK_3
Progress: FOOD_VARIETY_5 { current:3, threshold:5 }, WATER_7 { current:5, threshold:7 }
PRs: dailyXpBest: 120, longestStreak: 6
Provide 6â€“8 colorful SVGs; fallback to emoji if missing.
Notes
Keep evaluation server-side; client is read-only + animations.
Keep code organized and commented; no external CSS frameworks; prefer small, reusable components.
Please implement the route, components, endpoints (if missing), seed data, and wire navigation as specified.